choice1 = [
  'Dolphins',
  'are',
  'highly',
  'social',
  'animals,',
  'often',
  'living',
  'in',
  'pods',
  'of',
  'up',
  'to',
  'a',
  'dozen',
  'individuals,',
  'though',
  'pod',
  'sizes',
  'and',
  'structures',
  'vary',
  'greatly',
  'between',
  'species',
  'and',
  'locations.',
  'In',
  'places',
  'with',
  'a',
  'high',
  'abundance',
  'of',
  'food,',
  'pods',
  'can',
  'merge',
  'temporarily,',
  'forming',
  'a',
  'superpod;',
  'such',
  'groupings',
  'may',
  'exceed',
  '1,000',
  'dolphins.',
  'Membership',
  'in',
  'pods',
  'is',
  'not',
  'rigid;',
  'interchange',
  'is',
  'common.',
  'Dolphins',
  'can,',
  'however,',
  'establish',
  'strong',
  'social',
  'bonds;',
  'they',
  'will',
  'stay',
  'with',
  'injured',
  'or',
  'ill',
  'individuals,',
  'even',
  'helping',
  'them',
  'to',
  'breathe',
  'by',
  'bringing',
  'them',
  'to',
  'the',
  'surface',
  'if',
  'needed.',
  'This',
  'altruism',
  'does',
  'not',
  'appear',
  'to',
  'be',
  'limited',
  'to',
  'their',
  'own',
  'species.',
  'The',
  'dolphin',
  'Moko',
  'in',
  'New',
  'Zealand',
  'has',
  'been',
  'observed',
  'guiding',
  'a',
  'female',
  'pygmy',
  'sperm',
  'whale',
  'together',
  'with',
  'her',
  'calf',
  'out',
  'of',
  'shallow',
  'water',
  'where',
  'they',
  'had',
  'stranded',
  'several',
  'times.[58]',
  'They',
  'have',
  'also',
  'been',
  'seen',
  'protecting',
  'swimmers',
  'from',
  'sharks',
  'by',
  'swimming',
  'circles',
  'around',
  'the',
  'swimmers',
  'or',
  'charging',
  'the',
  'sharks',
  'to',
  'make',
  'them',
  'go',
  'Dolphins',
  'communicate',
  'using',
  'a',
  'variety',
  'of',
  'clicks,',
  'whistle-like',
  'sounds',
  'and',
  'other',
  'vocalizations.',
  'Dolphins',
  'also',
  'use',
  'nonverbal',
  'communication',
  'by',
  'means',
  'of',
  'touch',
  'and',
  'Dolphins',
  'also',
  'display',
  'culture,',
  'something',
  'long',
  'believed',
  'to',
  'be',
  'unique',
  'to',
  'humans',
  '(and',
  'possibly',
  'other',
  'primate',
  'species).',
  'In',
  'May',
  '2005,',
  'a',
  'discovery',
  'in',
  'Australia',
  'found',
  'Indo-Pacific',
  'bottlenose',
  'dolphins',
  '(Tursiops',
  'aduncus)',
  'teaching',
  'their',
  'young',
  'to',
  'use',
  'tools.',
  'They',
  'cover',
  'their',
  'snouts',
  'with',
  'sponges',
  'to',
  'protect',
  'them',
  'while',
  'foraging.',
  'This',
  'knowledge',
  'is',
  'mostly',
  'transferred',
  'by',
  'mothers',
  'to',
  'daughters,',
  'unlike',
  'simian',
  'primates,',
  'where',
  'knowledge',
  'is',
  'generally',
  'passed',
  'on',
  'to',
  'both',
  'sexes.',
  'Using',
  'sponges',
  'as',
  'mouth',
  'protection',
  'is',
  'a',
  'learned',
  'behavior.[62]',
  'Another',
  'learned',
  'behavior',
  'was',
  'discovered',
  'among',
  'river',
  'dolphins',
  'in',
  'Brazil,',
  'where',
  'some',
  'male',
  'dolphins',
  'use',
  'weeds',
  'and',
  'sticks',
  'as',
  'part',
  'of',
  'a',
  'sexual',
  'Forms',
  'of',
  'care-giving',
  'between',
  'fellows',
  'and',
  'even',
  'for',
  'members',
  'of',
  'different',
  'species',
  'are',
  'recorded',
  'in',
  'various',
  'species',
  'â€“',
  'such',
  'as',
  'trying',
  'to',
  'save',
  'weakened',
  'fellows',
  'or',
  'female',
  'pilot',
  'whales',
  'holding',
  'up',
  'dead',
  'calves',
  'for',
  'long',
  'Dolphins',
  'engage',
  'in',
  'acts',
  'of',
  'aggression',
  'towards',
  'each',
  'other.',
  'The',
  'older',
  'a',
  'male',
  'dolphin',
  'is,',
  'the',
  'more',
  'likely',
  'his',
  'body',
  'is',
  'to',
  'be',
  'covered',
  'with',
  'bite',
  'scars.',
  'Male',
  'dolphins',
  'can',
  'get',
  'into',
  'disputes',
  'over',
  'companions',
  'and',
  'females.',
  'Acts',
  'of',
  'aggression',
  'can',
  'become',
  'so',
  'intense',
  'that',
  'targeted',
  'dolphins',
  'sometimes',
  'go',
  'into',
  'exile',
  'after',
  'losing',
  'a',
  'Male',
  'bottlenose',
  'dolphins',
  'have',
  'been',
  'known',
  'to',
  'engage',
  'in',
  'infanticide.',
  'Dolphins',
  'have',
  'also',
  'been',
  'known',
  'to',
  'kill',
  'porpoises',
  'for',
  'reasons',
  'which',
  'are',
  'not',
  'fully',
  'understood,',
  'as',
  'porpoises',
  'generally',
  'do',
  'not',
  'share',
  'the',
  'same',
  'diet',
  'as',
  'dolphins',
  'and',
  'are',
  'therefore',
  'not',
  'competitors',
  'for',
  'food',
  'supplies.',
  'The',
  'Cornwall',
  'Wildlife',
  'Trust',
  'records',
  'about',
  'one',
  'such',
  'death',
  'a',
  'year.',
  'Possible',
  'explanations',
  'include',
  'misdirected',
  'infanticide,',
  'misdirected',
  'sexual',
  'aggression',
  'or',
  'play',
];

choice2 = [
  'The',
  'jaguar',
  'is',
  'the',
  'largest',
  'cat',
  'species',
  'in',
  'the',
  'New',
  'World,',
  'and',
  'the',
  'third',
  'largest',
  'in',
  'the',
  'world.',
  'It',
  'closely',
  'resembles',
  'the',
  'leopard,',
  'but',
  'is',
  'usually',
  'larger',
  'and',
  'sturdier.',
  'It',
  'ranges',
  'across',
  'a',
  'variety',
  'of',
  'forested',
  'and',
  'open',
  'terrains,',
  'but',
  'its',
  'preferred',
  'habitat',
  'is',
  'tropical',
  'and',
  'subtropical',
  'moist',
  'broadleaf',
  'forest,',
  'swamps,',
  'and',
  'wooded',
  'regions.',
  'The',
  'jaguar',
  'enjoys',
  'swimming,',
  'and',
  'is',
  'largely',
  'a',
  'solitary,',
  'opportunistic,',
  'stalk',
  'and',
  'ambush',
  'predator',
  'at',
  'the',
  'top',
  'of',
  'the',
  'food',
  'chain.',
  'As',
  'a',
  'keystone',
  'species,',
  'it',
  'plays',
  'an',
  'important',
  'role',
  'in',
  'stabilizing',
  'ecosystems,',
  'and',
  'regulating',
  'prey',
  'populations.',
];

choice3 = [
  'Compared',
  'to',
  'other',
  'wild',
  'cats,',
  'the',
  'leopard',
  'has',
  'relatively',
  'short',
  'legs',
  'and',
  'a',
  'long',
  'body',
  'with',
  'a',
  'large',
  'skull.',
  'Its',
  'fur',
  'is',
  'marked',
  'with',
  'rosettes.',
  'It',
  'is',
  'similar',
  'in',
  'appearance',
  'to',
  'the',
  'jaguar,',
  'but',
  'has',
  'a',
  'smaller,',
  'lighter',
  'physique,',
  'and',
  'its',
  'rosettes',
  'are',
  'generally',
  'smaller,',
  'more',
  'densely',
  'packed',
  'and',
  'without',
  'central',
  'spots.',
  'Both',
  'leopards',
  'and',
  'jaguars',
  'that',
  'are',
  'melanistic',
  'are',
  'known',
  'as',
  'black',
  'panthers.',
  'The',
  'leopard',
  'is',
  'distinguished',
  'by',
  'its',
  'well',
  'camouflaged',
  'fur,',
  'opportunistic',
  'hunting',
  'behaviour,',
  'broad',
  'diet,',
  'strength,',
  'and',
  'its',
  'ability',
  'to',
  'adapt',
  'to',
  'a',
  'variety',
  'of',
  'habitats',
  'ranging',
  'from',
  'rainforest',
  'to',
  'steppe,',
  'including',
  'arid',
  'and',
  'montane',
  'areas.',
  'It',
  'can',
  'run',
  'at',
  'speeds',
  'of',
  'up',
  'to',
  '58',
  'kilometres',
  'per',
  'hour',
  '(36',
  'mph).',
  'The',
  'earliest',
  'known',
  'leopard',
  'fossils',
  'excavated',
  'in',
  'Europe',
  'are',
  'estimated',
  '600,000',
  'years',
  'old,',
  'dating',
  'to',
  'the',
  'late',
  'Early',
  'Pleistocene.',
  'Leopard',
  'fossils',
  'were',
  'also',
  'found',
  'in',
  'Japan.',
];

choice4 = [
  "Aesop's",
  'Fables,',
  'or',
  'the',
  'Aesopica,',
  'is',
  'a',
  'collection',
  'of',
  'fables',
  'credited',
  'to',
  'Aesop,',
  'a',
  'slave',
  'and',
  'storyteller',
  'believed',
  'to',
  'have',
  'lived',
  'in',
  'ancient',
  'Greece',
  'between',
  '620',
  'and',
  '564',
  'BCE.',
  'Of',
  'diverse',
  'origins,',
  'the',
  'stories',
  'associated',
  'with',
  'his',
  'name',
  'have',
  'descended',
  'to',
  'modern',
  'times',
  'through',
  'a',
  'number',
  'of',
  'sources',
  'and',
  'continue',
  'to',
  'be',
  'reinterpreted',
  'in',
  'different',
  'verbal',
  'registers',
  'and',
  'in',
  'popular',
  'as',
  'well',
  'as',
  'artistic',
  'media.',
  'The',
  'fables',
  'originally',
  'belonged',
  'to',
  'the',
  'oral',
  'tradition',
  'and',
  'were',
  'not',
  'collected',
  'for',
  'some',
  'three',
  'centuries',
  'after',
  "Aesop's",
  'death.',
  'By',
  'that',
  'time',
  'a',
  'variety',
  'of',
  'other',
  'stories,',
  'jokes',
  'and',
  'proverbs',
  'were',
  'being',
  'ascribed',
  'to',
  'him,',
  'although',
  'some',
  'of',
  'that',
  'material',
  'was',
  'from',
  'sources',
  'earlier',
  'than',
  'him',
  'or',
  'came',
  'from',
  'beyond',
  'the',
  'Greek',
  'cultural',
  'sphere.',
  'The',
  'process',
  'of',
  'inclusion',
  'has',
  'continued',
  'until',
  'the',
  'present,',
  'with',
  'some',
  'of',
  'the',
  'fables',
  'unrecorded',
  'before',
  'the',
  'Late',
  'Middle',
  'Ages',
  'and',
  'others',
  'arriving',
  'from',
  'outside',
  'Europe.',
  'The',
  'process',
  'is',
  'continuous',
  'and',
  'new',
  'stories',
  'are',
  'still',
  'being',
  'added',
  'to',
  'the',
  'Aesop',
  'corpus,',
  'even',
  'when',
  'they',
  'are',
  'demonstrably',
  'more',
  'recent',
  'work',
  'and',
  'sometimes',
  'from',
  'known',
  'authors',
];

let choices = [choice1, choice2, choice3, choice4];

window.addEventListener('load', init);

//html elements
const currentWords = document.querySelector('#display-words');
const wpmDisplay = document.querySelector('#wpm');
const timer = document.querySelector('#time');
const message = document.querySelector('#status');
const diffSelector = document.querySelector('#diffSelect');
const errors = document.querySelector('#errors');
const log = document.getElementById('log');
const statistics = document.querySelector('#statistics');

//Globals
let input = '';
let errorCount = 0;
let time = 0;
let wpm = 0;
let isPlaying = false;
let isPaused = false;
let count = 0; // Position in the story
let plays = 1; // how many times you have played this session
let average = 0; // average wpm
let averageError = 0; // average errors
let errorLog = [];
let words = [];

// Google Charts
let scores = [['Attempt', 'WPM', 'Errors']];
let missedCharacters = [['Character', 'Number of Misses']];

// Initialize the typing test
function init() {
  //load user data
  lSInit();
  //choose which text to type
  chooseText();
  //Load the typing text
  showWord(words);
  //Listen for typing
  document.addEventListener('keydown', spacePressed);
  //tick tock
  typingTime = setInterval(clock, 1000);
}

function unpause() {
  isPaused = false;
  wpmDisplay.innerHTML = wpm;
  errors.innerHTML = errorCount;
  message.innerHTML =
    "<span id = 'highlightColor' style = 'border-radius:5px'>When you are ready, begin typing. <span><br>";
  input = '';
  showWord(words);
  style();
}

// choose at random text that displays on screen
function chooseText() {
  let choice = choices.length;
  choice = Math.floor(Math.random() * 100 + 1) % choice;
  words = choices[choice];
}

//Check if the current word in question matches the word typed
function matchWords() {
  message.innerHTML = '';
  if (!isPaused) {
    if (input === words[count] + ' ' || input === ' ' + words[count] + ' ') {
      return true;
    } else {
      errorLogger();
      return false;
    }
  }
}

//Show the next 8 words in the typing sequence
function showWord(words) {
  // show the first 3 lines of length scrollSize. Start at first line, then proceed to second line, then start scrolling after each line is completed.
  let shownText = '';
  let q = 0;
  let scrollSize = 15;
  for (let i = 0; i < 3; i++) {
    for (let j = 0; j < scrollSize; j++) {
      if (count < scrollSize * 2) {
        q = j + i * scrollSize;
      } else {
        q =
          Math.floor((count - scrollSize) / scrollSize) * scrollSize +
          j +
          i * scrollSize; // the natural multiples of scrollSize contained in count after scrollSize*2 added to the original q.
      }

      if (q === count) {
        shownText += ' ' + lettersCovered();
      } else {
        if (q < count) {
          shownText +=
            ' ' +
            "<span style = 'border-radius: 5px; color: gray; '>" +
            words[q] +
            '</span>';
        } else {
          shownText += ' ' + words[q];
        }
      }
    }
    shownText += '<br>';
  }
  currentWords.innerHTML = shownText;
  style(); // from styling.js
}

//showWords subfunctions

function lettersCovered() {
  let length = input.length;
  let covered = ''; //covered word.
  if (length > 0) {
    for (let i = 0; i < length; i++) {
      if (input[i] === words[count][i]) {
        covered +=
          "<span style = 'border-radius: 5px;' class = 'highlightColor'>" +
          input[i] +
          '</span>';
      } else {
        covered +=
          "<span style = 'border-radius: 5px; color: red;'>" +
          input[i] +
          '</span>';
      }
    }

    for (let j = length; j < words[count].length; j++) {
      covered = covered + words[count][j];
    }
  } else {
    covered =
      "<span style = 'border-radius: 5px;' class = 'highlightColor2'>" +
      ' ' +
      '</span>' +
      words[count];
  }
  return covered;
}

//showWords subfunctions end

function clock() {
  if (time < 60 && isPlaying) {
    // Increase time
    time++;
  } else if (wpm > 0) {
    // Game is over
    isPaused = true;
    isPlaying = false;

    //create button to allow the user to re-enable input when ready
    message.innerHTML =
      '<span>Your scores are below! Scroll down to see your errors!<span><br><br>' +
      '<button class = "btn btn-success" onclick = "unpause()" >Type Again</button><br><br>'; // Need to add set of possible responses here...

    //add the fbsharestring to message
    fbShareString =
      '<p>Click the link below to share your score to facebook and challenge your friends!<p><div id="shareBtn" class="btn btn-info clearfix">Share to Facebook</div>';
    message.innerHTML = message.innerHTML + fbShareString;

    //listen for sharebutton
    document.getElementById('shareBtn').addEventListener('click', share);

    currentWords.innerHTML =
      "<span style = 'border-radius: 3px; padding: 1px 3px 1px 3px' id = 'highlightColor'> <strong>That was a good run! </strong>";
    style(); // to refresh the highlight color
    count = 0;

    // data for google chart and user data storage

    scores.push([plays, wpm, errorCount]);
    lSStore(); // store user data
    drawChart(scores); //chart

    // Other data to display
    average = averageScore(scores);
    averageErrors = averageErrorCalc(scores);
    statistics.innerHTML =
      '<br><strong>Average WPM: ' +
      average.toFixed(2) +
      '<br>' +
      ' Average Errors: ' +
      averageErrors.toFixed(2) +
      '<br><br>' +
      'Error List: </strong>';

    // Add errors from errorlog to display
    let counter = 0;
    while (counter < errorLog.length) {
      statistics.innerHTML =
        statistics.innerHTML +
        '<br>' +
        (counter + 1) +
        '. ' +
        errorLog[counter];
      counter++;
    }
    errorLog = [];
    chooseText();
    // Update Game State
    plays += 1;
    time = 0;
    wpm = 0;
    errorCount = 0;
  }
  // Show time
  timer.innerHTML = time;
}

// adds the currently input key to the input string
function inputChanger(e) {
  if (e.keyCode == 32 && e.target == document.body) {
    e.preventDefault();
  }
  if (
    e.key !== 'Shift' &&
    e.key !== 'Backspace' &&
    e.key !== 'Control' &&
    e.key !== 'Enter' &&
    e.key !== 'Alt' &&
    e.key !== 'Tab' &&
    e.key !== 'CapsLock'
  ) {
    input += e.key;
  } else {
    if (e.key === 'Backspace') {
      input = input.slice(0, input.length - 1);
    }
  }
}
// Checks if the word typed is equal to the word on the text everytime space is pressed.
function spacePressed(e) {
  //add current key to input string
  inputChanger(e);

  if (!isPaused) {
    isPlaying = true;
    showWord(words);
  }

  if (input.includes(' ') && !isPaused) {
    if (matchWords()) {
      if (time < 60) {
        wpm = Math.floor(
          (words
            .filter((word, index) => index <= count)
            .reduce((acc, word) => (acc += word.length), 0) +
            +count -
            errorCount) /
            5
        ); // count = spaces pressed, its included in official definition wpm = ((characters + any punctuation + spaces)/5 ). I subtract errorcount to account for missed characters
        wpmDisplay.innerHTML = wpm;
        console.log(wpm);
      }
    } else {
      errorCount++;
    }

    input = '';
    count = count + 1;
    errors.innerHTML = errorCount;
    input = '';
    input.placeholder = '';

    showWord(words);
  }
}

// Charts
function drawChart(dataTable) {
  var data = google.visualization.arrayToDataTable(dataTable);

  var options = {
    //title: 'Your Performance',
    curveType: 'function',
    legend: { position: 'bottom' },
  };

  var chart = new google.visualization.LineChart(
    document.getElementById('curve_chart')
  );

  chart.draw(data, options);
}

//average wpm calculator

function averageScore(scores) {
  average = 0;
  let i = 1;
  while (i < scores.length) {
    average = average + scores[i][1];
    i++;
  }
  average = average / (scores.length - 1);
  localStorage.setItem('average', average);
  return average;
}

//average errors calculator

function averageErrorCalc(scores) {
  averageError = 0;
  let i = 1;
  while (i < scores.length) {
    averageError = averageError + scores[i][2];
    i++;
  }
  averageError = averageError / (scores.length - 1);
  localStorage.setItem('averageError', averageError);
  return averageError;
}

//Error Log:
// Condition for words match: input.value === words[count] || input.value === " " + words[count]
let matching = true;
let j = 0; //our secondary counting variable, but if you do this sort of stuff, I guess you already knew that
let punctuation = [',', '"', "'", '.', '?', '!', ';', ':'];
let symbols = [
  '@',
  '#',
  '$',
  '%',
  '^',
  '&',
  '*',
  '(',
  ')',
  '{',
  '}',
  '[',
  ']',
  '-',
  '_',
  '=',
  '+',
  '\\',
  '/',
  '`',
  '~',
  '<',
  '>',
];
let numbers = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0'];
let determined = false; // determined what kind of char was missed

function errorLogger() {
  let i = 0;
  matching = true;
  let wordAndSpace = words[count] + ' ';
  while (matching) {
    // assign characters to separate variables for testing
    let iChar = input[i]; // current letter in input
    let wChar = wordAndSpace[i]; // current letter in displayed word
    if (iChar != wChar) {
      missCharCount(wChar);

      j = 0;
      matching = false; // breaks the loop
      determined = false;
      if (iChar === 'Undefined') {
        error =
          "You put a space instead of a '" +
          wChar +
          "' in the word '" +
          words[count] +
          "'<br>Your input: '" +
          input +
          "'.";
        determined = true;
      }
      while (j < punctuation.length && !determined) {
        if (wChar === punctuation[j]) {
          determined = true;
          error =
            "You missed the punctuation here: The '" +
            wChar +
            "' in '" +
            words[count] +
            "'<br>Your input: '" +
            input +
            "'.";
        } else {
          j++;
        }
      }
      if (!determined) {
        j = 0;
        while (j < symbols.length && !determined) {
          if (wChar === symbols[j]) {
            determined = true;
            error =
              "You missed the symbol here: The '" +
              wChar +
              "' in '" +
              words[count] +
              "'<br>Your input: '" +
              input +
              "'.";
          } else {
            j++;
          }
        }
      }
      if (!determined) {
        j = 0;
        while (j < numbers.length && !determined) {
          if (wChar === numbers[j]) {
            determined = true;
            error =
              "You missed the number here: The '" +
              wChar +
              "' in '" +
              words[count] +
              "'<br>Your input: '" +
              input +
              "'.";
          } else {
            j++;
          }
        }
      }
      if (!determined) {
        error =
          "You mispelled: '" +
          words[count] +
          "'<br>Your input: '" +
          input +
          "'.";
      }

      //push error to Error log
      errorLog.push(error);
      if (localStorage.getItem('errors') !== null) {
        localStorage.setItem(
          'errors',
          localStorage.getItem('errors') + '<br>' + words[count]
        );
      } else {
        localStorage.setItem('errors', words[count]);
      }
    } else {
      i++;
    }
  }
}

//Add Missed Character to missed character Array
function missCharCount(charM) {
  // charM is the missed character
  q = 1; // starts at 1 because the first value, or the 0'th value, is ['Missed Characters','Character'] which is for Google charts
  charFound = false;
  while (q < missedCharacters.length) {
    if (charM === undefined || charM === '') {
      // space which is translated to '' from undefined.
      charM = ' ';
    }
    if (charM === missedCharacters[q][0]) {
      missedCharacters[q][1] = missedCharacters[q][1] + 1;
      charFound = true;
    }
    q = q + 1;
  }

  if (!charFound && charM !== '') {
    missedCharacters.push([charM, 1]);
  }

  localStorage.setItem('Missed Characters', missedCharacters);
}

// localstorage
function lSStore() {
  if (localStorage.getItem('xp') !== null) {
    localStorage.setItem('xp', Number(localStorage.getItem('xp')) + wpm);
  } else {
    localStorage.setItem('xp', wpm);
  }
  //scores
  localStorage.setItem('scores', scores);
}

function lSInit() {
  //scores
  //delete localStorage.scores;
  if (localStorage.getItem('scores') !== null) {
    let p = 19; // starting here because the first three values are 'attempt,wpm,errors' a total of 18 characters...could fix, but nah..t right now
    let block = [0, 0, 0];
    let scoresTemp = localStorage.getItem('scores');
    while (p < scoresTemp.length) {
      let val = '';
      let q = 0;
      while (q < 3) {
        while (scoresTemp[p] !== ',' && p < scoresTemp.length) {
          val = val + scoresTemp[p];
          p = p + 1;
        }
        block[q] = Number(val);
        val = '';
        p = p + 1;
        q = q + 1;
      }
      scores.push([block[0], block[1], block[2]]);
    }

    //Initialize plays to how many times you have typed
    plays = scores.length;
    // draw chart
    drawChart(scores);
  }

  if (localStorage.getItem('Missed Characters') !== null) {
    // any changes to this if must be made in both profile and in wordsPerMinute and in TypeYourOenText.
    let p = 27; // starting here because the first two values are 'Number of Misses,Character,' a total of 27 characters...could fix, but nah..t right now
    let block = ['', 0];
    let charsTemp = localStorage.getItem('Missed Characters');
    while (p < charsTemp.length) {
      let q = 0;
      while (q < 2) {
        if (q % 2 === 0) {
          block[q] = charsTemp[p];
        } else {
          block[q] = Number(charsTemp[p]); // need to convert string count of missed characters to a number.  so '1' to 1.
        }

        p = p + 2; // 2 because there is a comma between each relevant value
        q = q + 1;
      }
      missedCharacters.push([block[0], block[1]]);
    }
  }
}

//fbshare string

function share() {
  let shareString =
    'I just typed ' +
    wpmDisplay.innerHTML +
    ' words in a single minute! Think you can beat my score?';
  FB.ui(
    {
      display: 'popup',
      method: 'share',
      href: 'https://speedyfingers.net',
      quote: shareString,
    },
    function (response) {}
  );
}
